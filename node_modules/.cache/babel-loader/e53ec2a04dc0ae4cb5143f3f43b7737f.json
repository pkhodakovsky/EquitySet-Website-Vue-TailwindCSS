{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport axios from 'axios';\nexport const buildUrl = endpoint => {\n  const baseUrl = 'https://sandbox.iexapis.com/stable/stock/twtr/chart?token=Tpk_fb982bddddfe4a08b9250c33fe50997d';\n  const baseUrlNoTrailingSlash = baseUrl.replace(/\\/$/, ''); // const suffixNoLeadingSlash = endpoint.replace(/^\\//, '')\n\n  return baseUrl;\n};\nconst AxiosService = {\n  get(endpoint, config = {}) {\n    return axios.get(buildUrl(endpoint));\n  },\n\n  post(endpoint, {\n    data,\n    headers\n  } = {}) {\n    return axios({\n      url: buildUrl(endpoint),\n      method: 'POST',\n      headers: headers || {\n        'Content-Type': 'application/json'\n      },\n      data\n    });\n  },\n\n  put(endpoint, {\n    data,\n    headers\n  }) {\n    return axios({\n      url: buildUrl(endpoint),\n      method: 'PUT',\n      headers: headers || {\n        'Content-Type': 'application/json'\n      },\n      data\n    });\n  },\n\n  patch(endpoint, {\n    data\n  }) {\n    return axios({\n      method: 'PATCH',\n      url: buildUrl(endpoint),\n      data,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n  },\n\n  delete(endpoint) {\n    return axios({\n      method: 'DELETE',\n      url: buildUrl(endpoint)\n    });\n  },\n\n  registerUnauthorizedListener(router) {\n    axios.interceptors.response.use(null, error => {\n      if (error.response && [401, 403].includes(error.response.status)) {\n        router.push({\n          name: 'login'\n        });\n      } else {\n        if (error.response) {\n          console.error(error.response);\n        } else {\n          console.error(error);\n        }\n      }\n\n      return Promise.reject(error);\n    });\n  }\n\n};\naxios.defaults.withCredentials = true;\nexport default AxiosService;","map":{"version":3,"names":["axios","buildUrl","endpoint","baseUrl","baseUrlNoTrailingSlash","replace","AxiosService","get","config","post","data","headers","url","method","put","patch","delete","registerUnauthorizedListener","router","interceptors","response","use","error","includes","status","push","name","console","Promise","reject","defaults","withCredentials"],"sources":["/Users/macbook/Documents/projects/assigment/test13/src/services/axios.service.js"],"sourcesContent":["import axios from 'axios'\n\nexport const buildUrl = endpoint => {\n  const baseUrl = 'https://sandbox.iexapis.com/stable/stock/twtr/chart?token=Tpk_fb982bddddfe4a08b9250c33fe50997d'\n  const baseUrlNoTrailingSlash = baseUrl.replace(/\\/$/, '')\n  // const suffixNoLeadingSlash = endpoint.replace(/^\\//, '')\n  return baseUrl\n}\n\nconst AxiosService = {\n  get(endpoint, config = {}) {\n    return axios.get(buildUrl(endpoint))\n  },\n  post(endpoint, { data, headers } = {}) {\n    return axios({\n      url: buildUrl(endpoint),\n      method: 'POST',\n      headers: headers || { 'Content-Type': 'application/json' },\n      data,\n    })\n  },\n  put(endpoint, { data, headers }) {\n    return axios({\n      url: buildUrl(endpoint),\n      method: 'PUT',\n      headers: headers || { 'Content-Type': 'application/json' },\n      data,\n    })\n  },\n  patch(endpoint, { data }) {\n    return axios({\n      method: 'PATCH',\n      url: buildUrl(endpoint),\n      data,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n  },\n  delete(endpoint) {\n    return axios({\n      method: 'DELETE',\n      url: buildUrl(endpoint),\n    })\n  },\n\n  registerUnauthorizedListener(router) {\n    axios.interceptors.response.use(null, error => {\n      if (error.response && [401, 403].includes(error.response.status)) {\n        router.push({ name: 'login' })\n      } else {\n        if (error.response) {\n          console.error(error.response)\n        } else {\n          console.error(error)\n        }\n      }\n      return Promise.reject(error)\n    })\n  },\n}\n\naxios.defaults.withCredentials = true\nexport default AxiosService\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,QAAQ,GAAGC,QAAQ,IAAI;EAClC,MAAMC,OAAO,GAAG,gGAAhB;EACA,MAAMC,sBAAsB,GAAGD,OAAO,CAACE,OAAR,CAAgB,KAAhB,EAAuB,EAAvB,CAA/B,CAFkC,CAGlC;;EACA,OAAOF,OAAP;AACD,CALM;AAOP,MAAMG,YAAY,GAAG;EACnBC,GAAG,CAACL,QAAD,EAAWM,MAAM,GAAG,EAApB,EAAwB;IACzB,OAAOR,KAAK,CAACO,GAAN,CAAUN,QAAQ,CAACC,QAAD,CAAlB,CAAP;EACD,CAHkB;;EAInBO,IAAI,CAACP,QAAD,EAAW;IAAEQ,IAAF;IAAQC;EAAR,IAAoB,EAA/B,EAAmC;IACrC,OAAOX,KAAK,CAAC;MACXY,GAAG,EAAEX,QAAQ,CAACC,QAAD,CADF;MAEXW,MAAM,EAAE,MAFG;MAGXF,OAAO,EAAEA,OAAO,IAAI;QAAE,gBAAgB;MAAlB,CAHT;MAIXD;IAJW,CAAD,CAAZ;EAMD,CAXkB;;EAYnBI,GAAG,CAACZ,QAAD,EAAW;IAAEQ,IAAF;IAAQC;EAAR,CAAX,EAA8B;IAC/B,OAAOX,KAAK,CAAC;MACXY,GAAG,EAAEX,QAAQ,CAACC,QAAD,CADF;MAEXW,MAAM,EAAE,KAFG;MAGXF,OAAO,EAAEA,OAAO,IAAI;QAAE,gBAAgB;MAAlB,CAHT;MAIXD;IAJW,CAAD,CAAZ;EAMD,CAnBkB;;EAoBnBK,KAAK,CAACb,QAAD,EAAW;IAAEQ;EAAF,CAAX,EAAqB;IACxB,OAAOV,KAAK,CAAC;MACXa,MAAM,EAAE,OADG;MAEXD,GAAG,EAAEX,QAAQ,CAACC,QAAD,CAFF;MAGXQ,IAHW;MAIXC,OAAO,EAAE;QACP,gBAAgB;MADT;IAJE,CAAD,CAAZ;EAQD,CA7BkB;;EA8BnBK,MAAM,CAACd,QAAD,EAAW;IACf,OAAOF,KAAK,CAAC;MACXa,MAAM,EAAE,QADG;MAEXD,GAAG,EAAEX,QAAQ,CAACC,QAAD;IAFF,CAAD,CAAZ;EAID,CAnCkB;;EAqCnBe,4BAA4B,CAACC,MAAD,EAAS;IACnClB,KAAK,CAACmB,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CAAgC,IAAhC,EAAsCC,KAAK,IAAI;MAC7C,IAAIA,KAAK,CAACF,QAAN,IAAkB,CAAC,GAAD,EAAM,GAAN,EAAWG,QAAX,CAAoBD,KAAK,CAACF,QAAN,CAAeI,MAAnC,CAAtB,EAAkE;QAChEN,MAAM,CAACO,IAAP,CAAY;UAAEC,IAAI,EAAE;QAAR,CAAZ;MACD,CAFD,MAEO;QACL,IAAIJ,KAAK,CAACF,QAAV,EAAoB;UAClBO,OAAO,CAACL,KAAR,CAAcA,KAAK,CAACF,QAApB;QACD,CAFD,MAEO;UACLO,OAAO,CAACL,KAAR,CAAcA,KAAd;QACD;MACF;;MACD,OAAOM,OAAO,CAACC,MAAR,CAAeP,KAAf,CAAP;IACD,CAXD;EAYD;;AAlDkB,CAArB;AAqDAtB,KAAK,CAAC8B,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACA,eAAezB,YAAf"},"metadata":{},"sourceType":"module"}