{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport axios from 'axios';\nexport const buildUrl = endpoint => {\n  const baseUrl = 'https://sandbox.iexapis.com/stable/stock/twtr/chart';\n  const token = 'Tpk_fb982bddddfe4a08b9250c33fe50997d';\n  const baseUrlNoTrailingSlash = baseUrl.replace(/\\/$/, ''); // const suffixNoLeadingSlash = endpoint.replace(/^\\//, '')\n\n  return `${baseUrl}?token=${token}`;\n};\nconst AxiosService = {\n  get(endpoint, config = {}) {\n    console.log(buildUrl(endpoint));\n    return axios.get(buildUrl(endpoint));\n  },\n\n  post(endpoint, {\n    data,\n    headers\n  } = {}) {\n    return axios({\n      url: buildUrl(endpoint),\n      method: 'POST',\n      headers: headers || {\n        'Content-Type': 'application/json'\n      },\n      data\n    });\n  },\n\n  put(endpoint, {\n    data,\n    headers\n  }) {\n    return axios({\n      url: buildUrl(endpoint),\n      method: 'PUT',\n      headers: headers || {\n        'Content-Type': 'application/json'\n      },\n      data\n    });\n  },\n\n  patch(endpoint, {\n    data\n  }) {\n    return axios({\n      method: 'PATCH',\n      url: buildUrl(endpoint),\n      data,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n  },\n\n  delete(endpoint) {\n    return axios({\n      method: 'DELETE',\n      url: buildUrl(endpoint)\n    });\n  },\n\n  registerUnauthorizedListener(router) {\n    axios.interceptors.response.use(null, error => {\n      if (error.response && [401, 403].includes(error.response.status)) {\n        router.push({\n          name: 'login'\n        });\n      } else {\n        if (error.response) {\n          console.error(error.response);\n        } else {\n          console.error(error);\n        }\n      }\n\n      return Promise.reject(error);\n    });\n  }\n\n};\naxios.defaults.withCredentials = true;\nexport default AxiosService;","map":{"version":3,"names":["axios","buildUrl","endpoint","baseUrl","token","baseUrlNoTrailingSlash","replace","AxiosService","get","config","console","log","post","data","headers","url","method","put","patch","delete","registerUnauthorizedListener","router","interceptors","response","use","error","includes","status","push","name","Promise","reject","defaults","withCredentials"],"sources":["/Users/macbook/Documents/projects/assigment/test13/src/services/axios.service.js"],"sourcesContent":["import axios from 'axios'\n\nexport const buildUrl = endpoint => {\n  const baseUrl = 'https://sandbox.iexapis.com/stable/stock/twtr/chart'\n  const token = 'Tpk_fb982bddddfe4a08b9250c33fe50997d'\n  const baseUrlNoTrailingSlash = baseUrl.replace(/\\/$/, '')\n  // const suffixNoLeadingSlash = endpoint.replace(/^\\//, '')\n  return `${baseUrl}?token=${token}`\n}\n\nconst AxiosService = {\n  get(endpoint, config = {}) {\n    console.log(buildUrl(endpoint))\n    return axios.get(buildUrl(endpoint))\n  },\n  post(endpoint, { data, headers } = {}) {\n    return axios({\n      url: buildUrl(endpoint),\n      method: 'POST',\n      headers: headers || { 'Content-Type': 'application/json' },\n      data,\n    })\n  },\n  put(endpoint, { data, headers }) {\n    return axios({\n      url: buildUrl(endpoint),\n      method: 'PUT',\n      headers: headers || { 'Content-Type': 'application/json' },\n      data,\n    })\n  },\n  patch(endpoint, { data }) {\n    return axios({\n      method: 'PATCH',\n      url: buildUrl(endpoint),\n      data,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n  },\n  delete(endpoint) {\n    return axios({\n      method: 'DELETE',\n      url: buildUrl(endpoint),\n    })\n  },\n\n  registerUnauthorizedListener(router) {\n    axios.interceptors.response.use(null, error => {\n      if (error.response && [401, 403].includes(error.response.status)) {\n        router.push({ name: 'login' })\n      } else {\n        if (error.response) {\n          console.error(error.response)\n        } else {\n          console.error(error)\n        }\n      }\n      return Promise.reject(error)\n    })\n  },\n}\n\naxios.defaults.withCredentials = true\nexport default AxiosService\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,QAAQ,GAAGC,QAAQ,IAAI;EAClC,MAAMC,OAAO,GAAG,qDAAhB;EACA,MAAMC,KAAK,GAAG,sCAAd;EACA,MAAMC,sBAAsB,GAAGF,OAAO,CAACG,OAAR,CAAgB,KAAhB,EAAuB,EAAvB,CAA/B,CAHkC,CAIlC;;EACA,OAAQ,GAAEH,OAAQ,UAASC,KAAM,EAAjC;AACD,CANM;AAQP,MAAMG,YAAY,GAAG;EACnBC,GAAG,CAACN,QAAD,EAAWO,MAAM,GAAG,EAApB,EAAwB;IACzBC,OAAO,CAACC,GAAR,CAAYV,QAAQ,CAACC,QAAD,CAApB;IACA,OAAOF,KAAK,CAACQ,GAAN,CAAUP,QAAQ,CAACC,QAAD,CAAlB,CAAP;EACD,CAJkB;;EAKnBU,IAAI,CAACV,QAAD,EAAW;IAAEW,IAAF;IAAQC;EAAR,IAAoB,EAA/B,EAAmC;IACrC,OAAOd,KAAK,CAAC;MACXe,GAAG,EAAEd,QAAQ,CAACC,QAAD,CADF;MAEXc,MAAM,EAAE,MAFG;MAGXF,OAAO,EAAEA,OAAO,IAAI;QAAE,gBAAgB;MAAlB,CAHT;MAIXD;IAJW,CAAD,CAAZ;EAMD,CAZkB;;EAanBI,GAAG,CAACf,QAAD,EAAW;IAAEW,IAAF;IAAQC;EAAR,CAAX,EAA8B;IAC/B,OAAOd,KAAK,CAAC;MACXe,GAAG,EAAEd,QAAQ,CAACC,QAAD,CADF;MAEXc,MAAM,EAAE,KAFG;MAGXF,OAAO,EAAEA,OAAO,IAAI;QAAE,gBAAgB;MAAlB,CAHT;MAIXD;IAJW,CAAD,CAAZ;EAMD,CApBkB;;EAqBnBK,KAAK,CAAChB,QAAD,EAAW;IAAEW;EAAF,CAAX,EAAqB;IACxB,OAAOb,KAAK,CAAC;MACXgB,MAAM,EAAE,OADG;MAEXD,GAAG,EAAEd,QAAQ,CAACC,QAAD,CAFF;MAGXW,IAHW;MAIXC,OAAO,EAAE;QACP,gBAAgB;MADT;IAJE,CAAD,CAAZ;EAQD,CA9BkB;;EA+BnBK,MAAM,CAACjB,QAAD,EAAW;IACf,OAAOF,KAAK,CAAC;MACXgB,MAAM,EAAE,QADG;MAEXD,GAAG,EAAEd,QAAQ,CAACC,QAAD;IAFF,CAAD,CAAZ;EAID,CApCkB;;EAsCnBkB,4BAA4B,CAACC,MAAD,EAAS;IACnCrB,KAAK,CAACsB,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CAAgC,IAAhC,EAAsCC,KAAK,IAAI;MAC7C,IAAIA,KAAK,CAACF,QAAN,IAAkB,CAAC,GAAD,EAAM,GAAN,EAAWG,QAAX,CAAoBD,KAAK,CAACF,QAAN,CAAeI,MAAnC,CAAtB,EAAkE;QAChEN,MAAM,CAACO,IAAP,CAAY;UAAEC,IAAI,EAAE;QAAR,CAAZ;MACD,CAFD,MAEO;QACL,IAAIJ,KAAK,CAACF,QAAV,EAAoB;UAClBb,OAAO,CAACe,KAAR,CAAcA,KAAK,CAACF,QAApB;QACD,CAFD,MAEO;UACLb,OAAO,CAACe,KAAR,CAAcA,KAAd;QACD;MACF;;MACD,OAAOK,OAAO,CAACC,MAAR,CAAeN,KAAf,CAAP;IACD,CAXD;EAYD;;AAnDkB,CAArB;AAsDAzB,KAAK,CAACgC,QAAN,CAAeC,eAAf,GAAiC,IAAjC;AACA,eAAe1B,YAAf"},"metadata":{},"sourceType":"module"}