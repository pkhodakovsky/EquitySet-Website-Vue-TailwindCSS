{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport axios from 'axios'; // const baseUrl = process.env.API_URL\n// const token = process.env.API_KEY\n\nconst baseUrl = 'https://sandbox.iexapis.com/stable/stock/twtr/chart';\nconst token = 'Tpk_fb982bddddfe4a08b9250c33fe50997d';\nexport const buildUrl = endpoint => {\n  const timeTracker = endpoint ? `/${endpoint}` : '';\n  return `${baseUrl}/${endpoint}?token=${token}`;\n};\nconst AxiosService = {\n  get(endpoint, config = {}) {\n    return axios.get(buildUrl(endpoint));\n  },\n\n  post(endpoint, {\n    data,\n    headers\n  } = {}) {\n    return axios({\n      url: buildUrl(endpoint),\n      method: 'POST',\n      headers: headers || {\n        'Content-Type': 'application/json'\n      },\n      data\n    });\n  },\n\n  put(endpoint, {\n    data,\n    headers\n  }) {\n    return axios({\n      url: buildUrl(endpoint),\n      method: 'PUT',\n      headers: headers || {\n        'Content-Type': 'application/json'\n      },\n      data\n    });\n  },\n\n  patch(endpoint, {\n    data\n  }) {\n    return axios({\n      method: 'PATCH',\n      url: buildUrl(endpoint),\n      data,\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n  },\n\n  delete(endpoint) {\n    return axios({\n      method: 'DELETE',\n      url: buildUrl(endpoint)\n    });\n  },\n\n  registerUnauthorizedListener(router) {\n    axios.interceptors.response.use(null, error => {\n      if (error.response && [401, 403].includes(error.response.status)) {\n        router.push({\n          name: 'login'\n        });\n      } else {\n        if (error.response) {\n          console.error(error.response);\n        } else {\n          console.error(error);\n        }\n      }\n\n      return Promise.reject(error);\n    });\n  }\n\n}; // axios.defaults.withCredentials = true\n\nexport default AxiosService;","map":{"version":3,"names":["axios","baseUrl","token","buildUrl","endpoint","timeTracker","AxiosService","get","config","post","data","headers","url","method","put","patch","delete","registerUnauthorizedListener","router","interceptors","response","use","error","includes","status","push","name","console","Promise","reject"],"sources":["/Users/macbook/Documents/projects/assigment/test13/src/services/axios.service.js"],"sourcesContent":["import axios from 'axios'\n\n// const baseUrl = process.env.API_URL\n// const token = process.env.API_KEY\n\nconst baseUrl = 'https://sandbox.iexapis.com/stable/stock/twtr/chart'\nconst token = 'Tpk_fb982bddddfe4a08b9250c33fe50997d'\n\nexport const buildUrl = endpoint => {\n  const timeTracker = endpoint ? `/${endpoint}` : ''\n  return `${baseUrl}/${endpoint}?token=${token}`\n}\n\nconst AxiosService = {\n  get(endpoint, config = {}) {\n    return axios.get(buildUrl(endpoint))\n  },\n  post(endpoint, { data, headers } = {}) {\n    return axios({\n      url: buildUrl(endpoint),\n      method: 'POST',\n      headers: headers || { 'Content-Type': 'application/json' },\n      data,\n    })\n  },\n  put(endpoint, { data, headers }) {\n    return axios({\n      url: buildUrl(endpoint),\n      method: 'PUT',\n      headers: headers || { 'Content-Type': 'application/json' },\n      data,\n    })\n  },\n  patch(endpoint, { data }) {\n    return axios({\n      method: 'PATCH',\n      url: buildUrl(endpoint),\n      data,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    })\n  },\n  delete(endpoint) {\n    return axios({\n      method: 'DELETE',\n      url: buildUrl(endpoint),\n    })\n  },\n\n  registerUnauthorizedListener(router) {\n    axios.interceptors.response.use(null, error => {\n      if (error.response && [401, 403].includes(error.response.status)) {\n        router.push({ name: 'login' })\n      } else {\n        if (error.response) {\n          console.error(error.response)\n        } else {\n          console.error(error)\n        }\n      }\n      return Promise.reject(error)\n    })\n  },\n}\n\n// axios.defaults.withCredentials = true\nexport default AxiosService\n"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB,C,CAEA;AACA;;AAEA,MAAMC,OAAO,GAAG,qDAAhB;AACA,MAAMC,KAAK,GAAG,sCAAd;AAEA,OAAO,MAAMC,QAAQ,GAAGC,QAAQ,IAAI;EAClC,MAAMC,WAAW,GAAGD,QAAQ,GAAI,IAAGA,QAAS,EAAhB,GAAoB,EAAhD;EACA,OAAQ,GAAEH,OAAQ,IAAGG,QAAS,UAASF,KAAM,EAA7C;AACD,CAHM;AAKP,MAAMI,YAAY,GAAG;EACnBC,GAAG,CAACH,QAAD,EAAWI,MAAM,GAAG,EAApB,EAAwB;IACzB,OAAOR,KAAK,CAACO,GAAN,CAAUJ,QAAQ,CAACC,QAAD,CAAlB,CAAP;EACD,CAHkB;;EAInBK,IAAI,CAACL,QAAD,EAAW;IAAEM,IAAF;IAAQC;EAAR,IAAoB,EAA/B,EAAmC;IACrC,OAAOX,KAAK,CAAC;MACXY,GAAG,EAAET,QAAQ,CAACC,QAAD,CADF;MAEXS,MAAM,EAAE,MAFG;MAGXF,OAAO,EAAEA,OAAO,IAAI;QAAE,gBAAgB;MAAlB,CAHT;MAIXD;IAJW,CAAD,CAAZ;EAMD,CAXkB;;EAYnBI,GAAG,CAACV,QAAD,EAAW;IAAEM,IAAF;IAAQC;EAAR,CAAX,EAA8B;IAC/B,OAAOX,KAAK,CAAC;MACXY,GAAG,EAAET,QAAQ,CAACC,QAAD,CADF;MAEXS,MAAM,EAAE,KAFG;MAGXF,OAAO,EAAEA,OAAO,IAAI;QAAE,gBAAgB;MAAlB,CAHT;MAIXD;IAJW,CAAD,CAAZ;EAMD,CAnBkB;;EAoBnBK,KAAK,CAACX,QAAD,EAAW;IAAEM;EAAF,CAAX,EAAqB;IACxB,OAAOV,KAAK,CAAC;MACXa,MAAM,EAAE,OADG;MAEXD,GAAG,EAAET,QAAQ,CAACC,QAAD,CAFF;MAGXM,IAHW;MAIXC,OAAO,EAAE;QACP,gBAAgB;MADT;IAJE,CAAD,CAAZ;EAQD,CA7BkB;;EA8BnBK,MAAM,CAACZ,QAAD,EAAW;IACf,OAAOJ,KAAK,CAAC;MACXa,MAAM,EAAE,QADG;MAEXD,GAAG,EAAET,QAAQ,CAACC,QAAD;IAFF,CAAD,CAAZ;EAID,CAnCkB;;EAqCnBa,4BAA4B,CAACC,MAAD,EAAS;IACnClB,KAAK,CAACmB,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CAAgC,IAAhC,EAAsCC,KAAK,IAAI;MAC7C,IAAIA,KAAK,CAACF,QAAN,IAAkB,CAAC,GAAD,EAAM,GAAN,EAAWG,QAAX,CAAoBD,KAAK,CAACF,QAAN,CAAeI,MAAnC,CAAtB,EAAkE;QAChEN,MAAM,CAACO,IAAP,CAAY;UAAEC,IAAI,EAAE;QAAR,CAAZ;MACD,CAFD,MAEO;QACL,IAAIJ,KAAK,CAACF,QAAV,EAAoB;UAClBO,OAAO,CAACL,KAAR,CAAcA,KAAK,CAACF,QAApB;QACD,CAFD,MAEO;UACLO,OAAO,CAACL,KAAR,CAAcA,KAAd;QACD;MACF;;MACD,OAAOM,OAAO,CAACC,MAAR,CAAeP,KAAf,CAAP;IACD,CAXD;EAYD;;AAlDkB,CAArB,C,CAqDA;;AACA,eAAehB,YAAf"},"metadata":{},"sourceType":"module"}